webpackJsonp([5],{"8Uv3":function(e,t){},"9ptM":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("4YfN"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("aA9S"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator__=__webpack_require__("lC5x"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__=__webpack_require__("rVsN"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("J0Oq"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_6__utils_common_common_js__=__webpack_require__("JahA"),__WEBPACK_IMPORTED_MODULE_7_components_bubble__=__webpack_require__("VbKi"),__WEBPACK_IMPORTED_MODULE_8_components_colorPicker__=__webpack_require__("WVI2"),__WEBPACK_IMPORTED_MODULE_9_components_toggleIcon__=__webpack_require__("6tOT"),__WEBPACK_IMPORTED_MODULE_10_components_paginationBySever__=__webpack_require__("cZrP"),__WEBPACK_IMPORTED_MODULE_11_vuedraggable__=__webpack_require__("405r"),__WEBPACK_IMPORTED_MODULE_11_vuedraggable___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_vuedraggable__),__WEBPACK_IMPORTED_MODULE_12__menuOption__=__webpack_require__("Ohtz"),__WEBPACK_IMPORTED_MODULE_13__components_uploadImageWithPreview__=__webpack_require__("Nxqm"),__WEBPACK_IMPORTED_MODULE_14__components_commonDialog__=__webpack_require__("P8AZ");__webpack_exports__.a={name:"item",components:{ColorPicker:__WEBPACK_IMPORTED_MODULE_8_components_colorPicker__.a,PaginationBySever:__WEBPACK_IMPORTED_MODULE_10_components_paginationBySever__.a,toggleIcon:__WEBPACK_IMPORTED_MODULE_9_components_toggleIcon__.a,Draggable:__WEBPACK_IMPORTED_MODULE_11_vuedraggable___default.a,menuOption:__WEBPACK_IMPORTED_MODULE_12__menuOption__.a,ImageUploadWithPreview:__WEBPACK_IMPORTED_MODULE_13__components_uploadImageWithPreview__.a,commonDialog:__WEBPACK_IMPORTED_MODULE_14__components_commonDialog__.a,Bubble:__WEBPACK_IMPORTED_MODULE_7_components_bubble__.a},data:function(){return{item:{id:this.$route.params.itemId,name:"",posName:"",shortName:"",description:"",thumbPath:"",displayPriority:"",color:this.GLOBAL.color,price:"",outOfStock:!1,marketPriceItem:!1,sendToKitchenRequired:this.$route.query.anotherPrinters&&""!==this.$route.query.anotherPrinters||!1,hiddenItem:"true"===this.$route.query.anotherHiddenItem||!1,baseWeight:"",ktvItem:!1,itemNumber:"",numOfItemOptionAllowed:"",itemType:"SALE_ITEM",categoryId:this.$route.params.categoryId,reportGroupId:this.$route.query.groupId,defaultItemSizeId:-1,itemPrices:[],options:[],comboType:"FLEXIBLE",isComboType:!1,displayMode:"COMPREHENSIVE",isDisplayMode:!1,comboSections:[],printerIds:this.$route.query.anotherPrinters&&this.$route.query.anotherPrinters.split(",").map(function(e){return parseInt(e)})||[],properties:[],optionFullScreen:!1},isOption:!1,isReportGroup:!1,defaultItemIndex:-1,isProperties:!1,isItemType:!1,priceType:[!1,!1,!1],orderTypes:[],sizes:[],items:[],cbIndex:-1,cbSubIndex:-1,addBnt:!1,addCb:!1,groupIndex:0,groupName:"",thumbPath:"",categoryIndex:0,selectItems:[],level:0,all:!1,index:0,currentOpIndex:0,selectPrinters:[],copySign:"",searchInput:"",ruleKey:"",refresh:!1,isShowPic:!1,isShowColor:!1,currentIndex:0,linkItems:[],linkPage:[],linkedItems:[],reportItems:[],selectLinkIds:{},selectLinkIdsTemp:{},isLink:!1,selfItem:{},selectReportId:"",secondRules:{"":[],EQUALS_TO:[{key:"ADJUSTABLE_PRICE",value:"Adjustable"},{key:"FIXED_PRICE",value:"Fixed"}],MIN_NUM_LIMIT:[{key:"ADJUSTABLE_PRICE",value:"Adjustable"},{key:"FIXED_PRICE",value:"Fixed"}],MAX_NUM_LIMIT:[{key:"ADJUSTABLE_PRICE",value:"Adjustable"},{key:"FIXED_PRICE",value:"Fixed"},{key:"FIXED_UNTIL_MAX",value:"Fixed until Max"}],RANGE:[{key:"ADJUSTABLE_PRICE",value:"Adjustable"},{key:"FIXED_PRICE",value:"Fixed"},{key:"FIXED_UNTIL_MAX",value:"Fixed until Max"}]},rules:[{key:"EQUALS_TO",value:"Equals to"},{key:"MIN_NUM_LIMIT",value:"Min"},{key:"MAX_NUM_LIMIT",value:"Max"},{key:"RANGE",value:"Range"}],urlMenuId:this.$route.query.menuId,urlGroupId:this.$route.query.groupId,urlmn:this.$route.query.mn,urlMenuName:this.$route.query.menuName||"",urlGroupName:this.$route.query.groupName||"",urlCatName:this.$route.query.categoryName||"",urlrn:this.$route.query.rn||"",responseMsg:"",searchType:this.$route.query.searchType||"",searchWord:this.$route.query.searchWord||"",referrer:this.$route.query.from||"",isSaving:!1,comboGroupLoaded:!1,comboGroup:{menuGroups:[{menuCategories:[]}]},printers:[]}},created:function(){},beforeDestroy:function(){},mounted:function(){var e,t=(e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(){var t,s,o;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.all([i.$$fetch_item_getAllPrinters({data:{},opts:{}}),i.$$fetch_item_getProperties({data:{targetType:"SALE_ITEM",targetValue:!0,adminReadable:!0},opts:{}}),i.$$fetch_item_getOrderTypes(),i.$$fetch_item_getSizes()]);case 2:for(s in t=e.sent,i.printers=t[0].printerList,i.properties=t[1].itemProperties,i.properties.push({name:"KTV",displayName:i.$t("fields.ktv")}),i.properties.push({name:"outOfStock",displayName:i.$t("fields.outOfStock")}),i.properties)i.GLOBAL.showName["A"+i.properties[s].name]=i.properties[s].displayName;for(o in i.GLOBAL.showName.AKTV=i.$t("fields.ktv"),i.GLOBAL.showName.AoutOfStock=i.$t("fields.outOfStock"),i.GLOBAL.properties=i.properties,i.orderTypes=t[2].orderTypeSettingList,i.orderTypes)i.orderTypes[o].id=i.orderTypes[o].id+"";i.orderTypes.map(function(e){return e.id}),i.orderTypes.unshift({displayName:"Other",id:"ALL",name:"ALL",shortName:"All"}),i.sizes=t[3].itemSizeList,i.item.id>0&&i.getItem();case 17:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}),i=this;t()},computed:{language:function(){return this.$store.state.language},getMenuGroups:function(){return this.GLOBAL.categories.filter(function(e){return!0})},getCategory:function(){var e=this;return this.GLOBAL.categories.filter(function(t){return 1===t.parent&&e.groupIndex==t.index})},getReportItems:function(){var e={};for(var t in this.reportItems){if(this.reportItems[t].tempSign)e[this.reportItems[t].groupId+"_"+this.reportItems[t].categoryId]=this.reportItems[t]}return e},getLinksTempToArray:function(){var e=[];for(var t in this.selectLinkIdsTemp)e.push(this.selectLinkIdsTemp[t].saleItemId);return console.log("getLinksTempToArray",e),e},getItemsIdArray:function(){var e=[];for(var t in this.selectItems)e.push(this.selectItems[t].saleItemId);return e},recordLinkStart:function(){return this.linkPage.pageNo*this.linkPage.pageSize+(this.linkPage.totalCounts>0?1:0)},recordLinkEnd:function(){var e=(this.linkPage.pageNo+1)*this.linkPage.pageSize;return e>this.linkPage.totalCounts?this.linkPage.totalCounts:e}},watch:{searchInput:function(){console.log("searchInput---",this.searchInput),this.searchInput&&null!=this.searchInput.trim()&&""!=this.searchInput.trim()?this.searchName():(this.linkItems=[],this.linkPage=[])},isProperties:function(){this.isProperties}},methods:{checkPrice:function(){var e=event.target.value;(46!==event.keyCode&&event.keyCode<48||event.keyCode>57||e.indexOf(".")>-1&&46===event.keyCode||"0"===e&&48===event.keyCode||0===e.length&&46===event.keyCode||/\d?\.(\d){2,}/g.test(e))&&(event.returnValue=!1)},pageFilterChange:function(e){this.linkPage=e,this.searchName()},searchName:_.debounce(function(){var e=this;this.$$fetch_item_searchByName({data:{name:this.searchInput,showSameReportItem:!1,pageNo:this.linkPage||0}}).then(function(t){e.linkItems=[],e.linkItems=t.items||[],e.linkPage=t.page||[];var i=e.selectLinkIdsTemp;e.selectLinkIdsTemp=[],e.selectLinkIdsTemp=i},function(t){e.linkItems=[],e.linkPage=[];var i=e.selectLinkIdsTemp;e.selectLinkIdsTemp=[],e.selectLinkIdsTemp=i})},500),changeLink:function(e,t){if(this.isLink){if(this.selectLinkIds[t.saleItemId].tempSign=e,e)this.selectReportId||(this.selectReportId=t.groupId+"_"+t.categoryId);else if(t.groupId+"_"+t.categoryId==this.selectReportId)for(var i in this.selectReportId="",this.selectLinkIds)if(this.selectLinkIds[i].tempSign){this.selectReportId=this.selectLinkIds[i].groupId+"_"+this.selectLinkIds[i].categoryId;break}}else if(e)for(var s in t.reportItem.saleItemInfoDTOList){var o=t.reportItem.saleItemInfoDTOList[s].saleItemId;this.selectLinkIdsTemp[o]||(this.selectLinkIdsTemp[o]=t.reportItem.saleItemInfoDTOList[s])}else for(var n in t.reportItem.saleItemInfoDTOList){var a=t.reportItem.saleItemInfoDTOList[n].saleItemId;this.selectLinkIdsTemp[a]&&delete this.selectLinkIdsTemp[a]}var r=this.selectLinkIdsTemp;this.selectLinkIdsTemp=[],this.selectLinkIdsTemp=r},returnLink:function(){for(var e in this.selectLinkIdsTemp){var t=this.selectLinkIdsTemp[e].saleItemId;this.selectLinkIds[t]||(this.selectLinkIds[t]=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.selectLinkIdsTemp[t])))}for(var i in this.isLink=!0,this.reportItems=[],this.selectLinkIds)void 0===this.selectLinkIds[i].tempSign&&(this.selectLinkIds[i].tempSign=!0),this.selectLinkIds[i].saleItemId==this.item.id?this.reportItems.unshift(this.selectLinkIds[i]):this.reportItems.push(this.selectLinkIds[i])},linkOtherItem:function(){this.isLink=!1,this.searchInput="",this.selectLinkIdsTemp={},setTimeout(function(){this.$refs.search.focus()}.bind(this),500)},cancelLink:function(){this.$refs.modalLink.close()},submitLink:function(){var e=this,t={reportItemName:this.reportItemName,linkItemIdSet:[],unLinkItemIdSet:[],reportGroupId:this.reportItems.groupId,reportCategoryId:this.reportItems.categoryId},i=this.selectReportId.split("_");for(var s in i.length>1&&(t.reportGroupId=i[0],t.reportCategoryId=i[1]),this.reportItems)this.reportItems[s].tempSign?t.linkItemIdSet.push(this.reportItems[s].saleItemId):t.unLinkItemIdSet.push(this.reportItems[s].saleItemId);this.$$fetch_item_linkItem({data:t}).then(function(i){t.unLinkItemIdSet.indexOf(e.selfItem.saleItemId)>=0?(e.item.reportItem.saleItemInfoDTOList=[],e.item.reportItem.saleItemInfoDTOList.push(e.selfItem)):e.item.reportItem=i.reportItem,e.cancelLink()})},linkItem:function(){this.searchInput="",this.selectLinkIds={},this.reportItems=[],this.selectLinkIdsTemp={},this.selectReportId=this.item.reportItem.groupId+"_"+this.item.reportItem.categoryId;var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.item.reportItem.saleItemInfoDTOList));for(var t in this.reportItemName=this.item.reportItem.itemName,e)e[t].tempSign=!0,e[t].saleItemId==this.item.id?(this.selfItem=e[t],this.reportItems.unshift(e[t])):this.reportItems.push(e[t]),this.selectLinkIds[e[t].saleItemId]=e[t];this.isLink=!1,this.reportItems.length>=2&&(this.isLink=!0),this.$refs.modalLink.show(),this.isLink||setTimeout(function(){this.$refs.search.focus()}.bind(this),500)},sendToKitchenRequiredChange:function(e){},cancel:function(){this.isShowPic=!1},updatePic:function(e){this.thumbPath=e},onAddImagePath:function(){this.item.thumbPath=this.thumbPath,this.isShowPic=!1},imgClick:function(){this.thumbPath=this.item.thumbPath||this.thumbPath,this.isShowPic=!0,this.$refs.uploadImage.show()},closeAlert:function(){this.addBnt=!1,this.addCb=!1,this.cbIndex=-1,this.isShowColor=!1},changeRule:function(e){e.priceRule="",this.pageNoteChange()},showComboItem:function(e){this.item.comboSections[e].isShow=!this.item.comboSections[e].isShow,this.pageNoteChange(e)},getItem:function(){var e=this;this.$$fetch_item_getItem({data:{expandMenuLevel:0},opts:{afterData:this.item.id,getTpye:"afterUrl"}}).then(function(t){for(var i in e.item=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},e.item,t.item),e.item.fieldDisplayNameGroups&&e.item.fieldDisplayNameGroups.length>0&&e.item.fieldDisplayNameGroups.forEach(function(t){e.item=__WEBPACK_IMPORTED_MODULE_6__utils_common_common_js__.a.getObjLangField(t.fieldName,t.fieldDisplayNames,e.item,"en")}),e.item.posName=e.item.posName.substr(0,20)||"",e.item.options=e.item.options||[],e.item.price=!e.item.marketPriceItem&&0===e.item.itemPrices.length&&(e.item.price||"0"),e.item.printerIds=e.item.printerIds||[],e.item.comboSections=e.item.comboSections||[],e.item.properties=e.item.properties||[],e.item.itemPrices=e.item.itemPrices||[],e.isItemType=!("COMBO_SALE_ITEM"!=e.item.itemType)&&e.item.comboSections.length>0,e.item.options)for(var s in e.isOption=!0,e.item.options[i].price=e.item.options[i].price||"0",e.item.options[i].color=e.item.options[i].color||"",e.item.options[i].printerIds=e.item.options[i].printerIds||[],e.item.options[i].numOfItemOptionAllowed=e.item.options[i].numOfItemOptionAllowed||"",e.item.options[i].posName=e.item.options[i].posName.substr(0,8)||"",e.item.options[i].subOptions)e.item.options[i].subOptions[s].price=e.item.options[i].subOptions[s].price||"0",e.item.options[i].subOptions[s].color=e.item.options[i].subOptions[s].color||"",e.item.options[i].subOptions[s].printerIds=e.item.options[i].subOptions[s].printerIds||[],e.item.options[i].subOptions[s].posName=e.item.options[i].subOptions[s].posName.substr(0,8)||"";var o=[];for(var n in e.item.properties)o.push(e.item.properties[n].name),"UNIT_PRICE_ITEM"==e.item.properties[n].name?e.priceType=[!1,!0,!1]:e.isProperties=!0;if(e.item.ktvItem&&o.push("KTV"),e.item.outOfStock&&o.push("outOfStock"),e.item.properties=o,e.isProperties=e.item.properties.length>0,e.item.numOfItemOptionAllowed=e.item.numOfItemOptionAllowed||"",e.item.price=e.item.price||"",e.item.itemNumber=e.item.itemNumber||"",e.item.thumbPath=e.item.thumbPath||"",e.item.description=e.item.description||"",e.item.marketPriceItem)e.priceType=[!1,!1,!0];else for(var a in e.item.itemPrices)if(e.priceType=[!0,!1,!1],e.item.defaultItemSizeId+""==e.item.itemPrices[a].sizeId+""){e.defaultItemIndex=a,e.item.itemPrices[a].choosed=!0;break}for(var r in e.item.isComboType=!("FIXED_SELECTION"!=e.item.comboType),e.item.isDisplayMode=!("LITE"!=e.item.displayMode),e.item.comboSections)e.item.comboSections[r].isModel=!1,e.item.comboSections[r].isShow=!1,e.item.comboSections[r].price=e.item.comboSections[r].price||"0",e.item.comboSections[r].color=e.item.comboSections[r].color||"",e.item.comboSections[r].minNumOfSelectionAllowed=e.item.comboSections[r].minNumOfSelectionAllowed||"",e.item.comboSections[r].maxNumOfSelectionAllowed=e.item.comboSections[r].maxNumOfSelectionAllowed||"",e.item.comboSections[r].comboSectionSaleItems||(e.item.comboSections[r].comboSectionSaleItems=[])},function(e){console.log("error:",e)})},defaultPriceFun:function(e){var t=this;this.item.itemPrices.forEach(function(i,s){i.choosed=s===e&&event.target.checked,t.item.itemPrices.splice(s,1,i)})},save:function save(){var _this5=this,data=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},this.item);for(var i in data.posName=""===data.posName?data.name.substr(0,20):data.posName.substr(0,20),this.isOption||(data.options=[]),data.options){for(var j in data.options[i].posName=""===data.options[i].posName?data.options[i].name.substr(0,8):data.options[i].posName.substr(0,8),data.options[i].id||delete data.options[i].id,data.options[i].printerIds||(data.options[i].printerIds=[]),data.options[i].price&&!isNaN(data.options[i].price)||(data.options[i].price=0),data.options[i].subOptions)data.options[i].subOptions[j].posName=""===data.options[i].subOptions[j].posName?data.options[i].subOptions[j].name.substr(0,8):data.options[i].subOptions[j].posName.substr(0,8),data.options[i].subOptions[j].price&&!isNaN(data.options[i].subOptions[j].price)||(data.options[i].subOptions[j].price=0),data.options[i].subOptions[j].id||delete data.options[i].subOptions[j].id,delete data.options[i].subOptions[j].fieldDisplayNameGroups,data.options[i].subOptions[j].printerIds=data.options[i].subOptions[j].printerIds||[];this.isOption=!0}if(this.item.sendToKitchenRequired||(data.printerIds=[]),this.isItemType){for(var _i8=data.comboSections.length-1;_i8>=0;_i8--)if(data.comboSections[_i8].comboSectionSaleItems.length>0&&(delete data.comboSections[_i8].isModel,delete data.comboSections[_i8].isShow,data.comboSections[_i8].maxNumOfSelectionAllowed||(data.comboSections[_i8].maxNumOfSelectionAllowed=data.comboSections[_i8].minNumOfSelectionAllowed),"MIN_NUM_LIMIT"==data.comboSections[_i8].itemSelectionRule&&(data.comboSections[_i8].maxNumOfSelectionAllowed=""),"MAX_NUM_LIMIT"==data.comboSections[_i8].itemSelectionRule&&(data.comboSections[_i8].minNumOfSelectionAllowed="")),"EQUALS_TO"!=data.comboSections[_i8].itemSelectionRule&&data.comboSections[_i8].itemSelectionRule||(data.comboSections[_i8].maxNumOfSelectionAllowed=data.comboSections[_i8].minNumOfSelectionAllowed),data.isComboType&&data.comboSections[_i8].comboSectionSaleItems.length!==parseInt(data.comboSections[_i8].minNumOfSelectionAllowed))return void this.responseFun("Fixd number must equals to Item's count","error");data.comboSections.length>0?(data.itemType="COMBO_SALE_ITEM",data.comboType=data.isComboType?"FIXED_SELECTION":"FLEXIBLE",data.displayMode=data.isDisplayMode?"LITE":"COMPREHENSIVE"):(data.itemType="SALE_ITEM",data.comboSections=[],data.comboType="",data.displayMode="")}else data.itemType="SALE_ITEM",data.comboSections=[],data.comboType="",data.displayMode="";for(var _i9 in delete data.isComboType,delete data.isDisplayMode,data.properties=[],data.ktvItem=!1,data.outOfStock=!1,this.item.properties)if("KTV"==this.item.properties[_i9])data.ktvItem=!0;else if("outOfStock"==this.item.properties[_i9])data.outOfStock=!0;else{var proJson={name:this.item.properties[_i9],value:!0};data.properties.push(proJson)}if(this.isProperties||(data.properties=[],data.ktvItem=!1,data.outOfStock=!1),this.priceType[1])data.properties.push({name:"UNIT_PRICE_ITEM",value:!0});else for(var _i10 in data.baseWeight="",data.properties)if("UNIT_PRICE_ITEM"==data.properties[_i10].name){data.properties.splice(_i10,1);break}if(data.marketPriceItem=!!eval(this.priceType[2]),this.priceType[0]){var defaultSize=this.item.itemPrices.filter(function(e){return e.choosed});data.defaultItemSizeId=defaultSize.length>0?defaultSize[0].sizeId:"-1"}else data.itemPrices=[];delete data.fieldDisplayNameGroups,""===data.price&&(0!==data.itemPrices.length||data.marketPriceItem?data.price="":data.price="0"),this.isSaving=!0,"New"!=this.item.id?this.$$fetch_item_editItem({data:data,opts:{}}).then(function(e){_this5.GLOBAL["I"+e.id]=e.name,_this5.$refs.successCategotyDialog.show(),_this5.isSaving=!1},function(e){console.log(e),_this5.responseFun(e.error.msg,"error"),_this5.isSaving=!1}):(data.id="",this.$$fetch_item_addItem({data:data,opts:{}}).then(function(e){_this5.GLOBAL["I"+e.id]=e.name,_this5.item.id=e.item.id;var t=_this5.$route.path.replace("New",_this5.item.id);_this5.$router.push({path:t,query:_this5.$route.query}),_this5.$refs.successCategotyDialog.show(),_this5.isSaving=!1},function(e){_this5.responseFun(e.error.msg,"error"),_this5.isSaving=!1}))},back:function(){"group"===this.referrer?this.searchType||this.searchWord?this.$router.push({path:this.$route.query.hash,query:this.$route.query}):this.$router.go(-1):"menu"===this.referrer?this.searchType||this.searchWord?this.$router.push({name:"restaurantMenu",params:{searchType:this.searchType,searchWord:this.searchWord}}):this.$router.go(-1):this.$router.push({path:"/itemList/"+this.item.categoryId,query:this.$route.query})},createNew:function(){this.$route.path;var e=this.$route.query;__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(e,{anotherHiddenItem:this.item.hiddenItem}),this.item.sendToKitchenRequired?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(e,{anotherPrinters:this.item.printerIds.join(",")}):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(e,{anotherPrinters:""}),this.$router.push({path:"/item/"+this.$route.params.categoryId+"/New",query:e}),this.$router.go(0)},getGroup:function(){var e=this;this.$$fetch_item_getAllMenuGroups({data:{expandMenuLevel:2},opts:{afterData:this.urlMenuId,getTpye:"afterUrl"}}).then(function(t){e.comboGroupLoaded=!0,e.GLOBAL.menu=t.menu,e.comboGroup=t.menu,e.comboGroup.menuGroups&&e.comboGroup.menuGroups.forEach(function(t,i){t.systemGenerated&&e.comboGroup.menuGroups.splice(i,1)}),0===e.comboGroup.menuGroups.length&&e.comboGroup.menuGroups.push({menuCategories:[]})})},uniq:function(){for(var e={},t=[],i=this.selectItems.length-1;i>=0;i--)e[this.selectItems[i].saleItemId]=this.selectItems[i];for(var s in e)t.push(e[s]);return t},submitItem:function(){this.item.comboSections[this.index].comboSectionSaleItems=this.selectItems,this.item.comboSections[this.index].isShow=!0,this.pageNoteChange()},selectAll:function(e,t,i){var s=this;e.target.id&&t.forEach(function(t){e.target.checked?s.selectItems.some(function(e){return e.saleItemId===t.id.toString()})||i===t.id||s.selectItems.push({saleItemId:t.id.toString(),preSelected:!1,displayPriority:0,saleItemName:t.name}):s.selectItems.forEach(function(e,i){t.id.toString()===e.saleItemId&&s.selectItems.splice(i,1)})})},fixedMode:function(){if(this.item.isComboType)for(var e in this.item.comboSections)this.item.comboSections[e].itemSelectionRule="EQUALS_TO",this.item.comboSections[e].priceRule=""},clickItem:function(e){e.target.id>=0&&(this.getItemsIdArray.indexOf(e.target.id)>=0?this.selectItems.splice(this.getItemsIdArray.indexOf(e.target.id),1):this.selectItems.push({saleItemId:e.target.id,preSelected:!1,displayPriority:0,saleItemName:e.target.dataset.name}))},getSizes:function(){var e=this;return new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a(function(t,i){e.$$fetch_item_getSizes({data:{},opts:{}}).then(function(i){e.sizes=i.itemSizeList,t()},function(e){console.log(e),i(e)})})},getOrderTypes:function(){var e=this;this.$$fetch_item_getOrderTypes({data:{},opts:{}}).then(function(t){for(var i in e.orderTypes=t.orderTypeSettingList,e.orderTypes)e.orderTypes[i].id=e.orderTypes[i].id+"";e.orderTypes.map(function(e){return e.id});e.orderTypes.unshift({displayName:"Other",id:"ALL",name:"ALL",shortName:"All"})})},pageNoteChange:function(e){this.refresh=!this.refresh,setTimeout(function(){this.refresh=!this.refresh}.bind(this),100)},openCombo:function(e){this.addCb=!1,this.cbIndex==e?this.cbIndex=-1:this.cbIndex=e},validateSeq:function(e,t){if(void 0!=e){var i=e.target.value,s=0;this.item.comboSections.forEach(function(e){null!=e.sectionSequence&&""!=e.sectionSequence&&null!=i&&""!=i&&i==e.sectionSequence&&s++}),s>1&&(e.target.value="",i="",s=0),this.item.comboSections.forEach(function(e){t==e&&(e.sectionSequence=i)})}},getItems:function(e){var t=this;this.all=!1,this.$$fetch_item_getAllItems({data:{expandMenuLevel:1},opts:{afterData:e.id+"",getTpye:"afterUrl"}}).then(function(e){t.items=[],t.items=e.menuCategory.saleItems||[],t.items&&t.items.length>0&&(t.items=t.items.filter(function(e,i){var s=e.properties?e.properties.filter(function(e){return"UNIT_PRICE_ITEM"===e.name}):[];return e.id!==t.item.id&&0===s.length&&"COMBO_SALE_ITEM"!==e.itemType&&!e.marketPriceItem&&!e.ktvItem}))})},addComboItem:function(e){for(var t in this.index=e,this.selectItems=[],this.selectItems=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.item.comboSections[e].comboSectionSaleItems||[])),this.selectItems)this.selectItems[t].saleItemId+="";this.groupIndex=0,this.categoryIndex=0,this.level=0,this.groupName="",this.$refs.modalItem.show(),!this.comboGroupLoaded&&this.getGroup()},addCombo:function(e){var t={name:"",posName:"",minNumOfSelectionAllowed:"",maxNumOfSelectionAllowed:"",sectionSequence:"",itemSelectionRule:"",priceRule:"",comboSectionSaleItems:[],isShow:!1,isModel:!1};if(this.item.isComboType&&(t.itemSelectionRule="EQUALS_TO"),this.isItemType)if("+"===e){var i=this.item.comboSections.length-1;t.itemSelectionRule=this.item.comboSections[i].itemSelectionRule,this.item.comboSections.push(t)}else this.item.comboSections.length<1&&(this.item.comboSections=[],this.item.comboSections.push(t));this.pageNoteChange()},delComboOption:function(e){this.item.comboSections.splice(e,1),this.isItemType=this.item.comboSections.length>0},addDetailPrice:function(e,t){t>0?this.item.itemPrices.push({type:"",price:"0",sizeId:""}):(this.item.itemPrices.splice(e,1),this.priceType.splice(0,1,this.item.itemPrices.length>0))},changePriceType:function(e){if(this.priceType[e])switch(this.item.price="",e){case 0:this.priceType=[!0,!1,!1],this.item.itemPrices&&this.item.itemPrices.length<1&&(this.item.itemPrices=[],this.item.itemPrices.push({type:"",price:"0",sizeId:""}));break;case 1:this.priceType=[!1,!0,!1];break;case 2:this.priceType=[!1,!1,!0]}else this.priceType=[!1,!1,!1]},responseFun:function(e,t){"error"===t?(this.$refs.responseDialog.show(),this.responseMsg=e):this.$refs.snackbar.show({message:e})}}}},Ohtz:function(e,t,i){"use strict";var s=i("3cXf"),o=i.n(s),n=i("VbKi"),a=i("Y0Uy"),r=i.n(a),c=i("cZrP"),l=i("Nxqm"),p=i("WVI2"),m={name:"menuOption",components:{ImageUploadWithPreview:l.a,PaginationBySever:c.a,ColorPicker:p.a,Bubble:n.a},props:["printers","showMax","title","item","isShow","value"],data:function(){return{oIndex:-1,addBnt:!1,addSubBnt:!1,oSubIndex:-1,searchOptions:[],option:{id:"",name:"",posName:"",shortName:"",price:"",color:this.GLOBAL.color,displayPriority:"",thumbPath:"",printerIds:[],numOfItemOptionAllowed:"",copyedOptionId:""},subOption:{id:"",name:"",posName:"",shortName:"",price:"",color:this.GLOBAL.color,displayPriority:"",thumbPath:"",printerIds:[]},currentOpIndex:0,selectPrinters:[],copySign:"",optoins:[],copyTitle:"",searchInput:"",selectOptions:[],subOptions:[],level:"",thumbPath:"",isShowPic:!1,isShowColor:!1,currentIndex:"",printersName:"",optionPage:[]}},computed:{getOptionWatchTempToArray:function(){var e=[];for(var t in this.selectOptions)e.push(this.selectOptions[t].id);return e}},watch:{searchInput:function(){this.searchInput&&null!=this.searchInput.trim()&&""!=this.searchInput.trim()?(this.optionPage=[],this.searchName()):this.optionPage=[]}},methods:{cancel:function(){this.isShowPic=!1},hideSubOption:function(e){},updatePic:function(e){this.thumbPath=e},imgSubClick:function(e){this.oSubIndex=e,this.isShowPic=!0,this.thumbPath=this.subOptions[e].thumbPath||"",this.$refs.uploadOptionImage.show()},validatePrice:function(e,t){var i=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return!(void 0!=e&&!i.test(e.target.value))},validateSeq:function(e,t){if(void 0!=e){var i=e.target.value,s=0;for(var o in this.value.options)null!=this.value.options[o].displayPriority&&""!=this.value.options[o].displayPriority&&null!=i&&""!=i&&i==this.value.options[o].displayPriority&&s++;for(var o in s>1&&(e.target.value="",i="",s=0),this.value.options)t==this.value.options[o]&&(this.value.options[o].displayPriority=i)}},validateSubSeq:function(e,t,i){if(void 0!=e){var s=0,o=e.target.value;for(var n in t.subOptions)null!=t.subOptions[n].displayPriority&&""!=t.subOptions[n].displayPriority&&null!=o&&""!=o&&o==t.subOptions[n].displayPriority&&s++;for(var n in s>1&&(e.target.value="",o="",s=0),this.value.options)if(t==this.value.options[n])for(var a in t.subOptions)if(i==t.subOptions[a]){this.value.options[n].subOptions[a].displayPriority=o;break}}},imgClick:function(e,t){this.oSubIndex=-1,this.currentOpIndex=e,t>=0?(this.level="SUB",this.oSubIndex=t,this.thumbPath=this.value.options[e].subOptions[t].thumbPath||""):(this.level="",this.thumbPath=this.value.options[e].thumbPath||""),this.isShowPic=!0,this.$refs.uploadOptionImage.show()},onAddImagePath:function(){this.oSubIndex>=0?"SUB"!=this.level?this.subOptions[this.oSubIndex].thumbPath=this.thumbPath:this.value.options[this.currentOpIndex].subOptions[this.oSubIndex].thumbPath=this.thumbPath:this.value.options[this.currentOpIndex].thumbPath=this.thumbPath,this.isShowPic=!1},cancelSubOption:function(){this.subOptions=[],this.$refs.modalSubOpion.close()},subOptionSubmit:function(){for(var e in this.value.options[this.currentOpIndex].subOptions||(this.value.options[this.currentOpIndex].subOptions=[]),this.subOptions){for(var t in console.log("this.subOptions[i]-----------------",this.subOptions[e]),delete this.subOptions[e].itemOptionId,delete this.subOptions[e].id,this.value.options[this.currentOpIndex].subOptions){var i=this.value.options[this.currentOpIndex].subOptions[t].displayPriority;if(void 0!=i&&null!=i&&""!=i&&this.subOptions[e].displayPriority==i){this.subOptions[e].displayPriority="";break}}this.value.options[this.currentOpIndex].subOptions.push(this.subOptions[e])}this.$refs.modalSubOpion.close(),this.pageNotChange()},onValidate:function(e){e.accept},deleteSub:function(e,t){e.splice(t,1),this.pageNotChange()},optionClick:function(e,t){if(t)this.selectOptions.push(e);else for(var i in this.selectOptions)this.selectOptions[i].id===e.id&&(console.log(e),this.selectOptions.splice(i,1),i--)},pageSubOFilterChange:function(e){this.optionPage=e,console.log("this.optionPage",this.optionPage),this.searchName()},searchName:r.a.debounce(function(){var e=this;this.searchOptions=[],this.searchInput&&("A"==this.copySign?this.$$fetch_item_getOptions({data:{name:this.searchInput,pageNo:this.optionPage||0},opts:{}}).then(function(t){e.searchOptions=t.options,e.optionPage=t.page||[];var i=e.selectOptions;e.selectOptions=[],e.selectOptions=i},function(t){e.searchOptions=[],e.optionPage=[];var i=e.selectOptions;e.selectOptions=[],e.selectOptions=i}):this.$$fetch_item_getItemOptions({data:{name:this.searchInput,showNoOptionItem:!1,pageNo:this.optionPage||0},opts:{}}).then(function(t){e.searchOptions=t.items,e.optionPage=t.page||[];var i=e.selectOptions;e.selectOptions=[],e.selectOptions=i},function(t){e.searchOptions=[],e.optionPage=[];var i=e.selectOptions;e.selectOptions=[],e.selectOptions=i}))},500),initValue:function(){this.oIndex=-1,this.addBnt=!1,this.addSubBnt=!1,this.isShowColor=!1},addSubPrinters:function(e){this.oSubIndex=e,this.level="",this.selectPrinters=JSON.parse(o()(this.subOptions[e].printerIds||[])),this.$refs.modalPrinter.show()},getPrintersName:function(e){var t=[];return this.printers.forEach(function(i){e.indexOf(i.id)>-1&&t.push(i.name)}),t.join(",")},addPrinters:function(e,t){this.oSubIndex=-1,this.currentOpIndex=e,t>=0?(this.level="SUB",this.oSubIndex=t,this.selectPrinters=JSON.parse(o()(this.value.options[e].subOptions[t].printerIds||[]))):(this.level="",this.selectPrinters=JSON.parse(o()(this.value.options[e].printerIds||[]))),this.$refs.modalPrinter.show()},submitPrinter:function(){this.oSubIndex>=0?"SUB"==this.level?this.value.options[this.currentOpIndex].subOptions[this.oSubIndex].printerIds=this.selectPrinters:this.subOptions[this.oSubIndex].printerIds=this.selectPrinters:this.value.options[this.currentOpIndex].printerIds=this.selectPrinters,this.pageNotChange()},openOption:function(e){this.addBnt=!1,this.oIndex==e?this.oIndex=-1:this.oIndex=e},pageNotChange:function(){this.oIndex=0,setTimeout(function(){this.oIndex=-1}.bind(this),50)},delSubOption:function(e){this.subOptions.splice(e,1)},addOption:function(){for(var e in this.options)for(var t in delete this.options[e].id,this.options[e].subOptions)this.options[e].subOptions[t].copyedOptionId=this.options[e].subOptions[t].id,console.log("this.options[i]['subOptions'][j].copyedOptionId",this.options[e].subOptions.copyedOptionId),delete this.options[e].subOptions[t].id;this.value.options.push(JSON.parse(o()(this.option)))},openSubOption:function(e){this.currentOpIndex=e,this.subOptions=[],this.addSubOption(),console.info(),this.$refs.modalSubOpion.onCancel=this.cancelSubOption,this.$refs.modalSubOpion.show()},addSubOption:function(){for(var e in this.addSubBnt=!1,this.subOption)delete this.subOption[e].id;this.subOptions.push(JSON.parse(o()(this.subOption)))},copyOption:function(e){this.initValue(),this.copyTitle=this.$t("fields.copyTitle"+e),this.copySign=e,this.searchInput="",this.searchOptions=[],this.selectOptions=[],this.$refs.modalCopyOpion.show(),setTimeout(function(){this.$refs.search.focus()}.bind(this),500)},cpOptionSubmit:function(){var e=[];if(this.currentOpIndex>=0){for(var t in this.subOptions)void 0!=this.subOptions[t]&&null!=this.subOptions[t].displayPriority&&""!=this.subOptions[t].displayPriority&&e.push(this.subOptions[t].displayPriority);for(var t in this.selectOptions){if(this.selectOptions[t].printerIds||(this.selectOptions[t].printerIds=[]),this.selectOptions[t].copyedOptionId=this.selectOptions[t].id,delete this.selectOptions[t].subOptions,delete this.selectOptions[t].id,this.selectOptions[t][""],void 0!=this.selectOptions[t].displayPriority&&null!=this.selectOptions[t].displayPriority&&""!=this.selectOptions[t].displayPriority)for(var i in e)if(e[i]==this.selectOptions[t].displayPriority){this.selectOptions[t].displayPriority="";break}for(var i in void 0===this.selectOptions[t].price&&(this.selectOptions[t].price=0),this.selectOptions[t].subOptions)void 0===this.selectOptions[t].subOptions[i].price&&this.$set(this.selectOptions[t].subOptions[i],"price",0),void 0===this.selectOptions[t].subOptions[i].displayPriority&&this.$set(this.selectOptions[t].subOptions[i],"displayPriority","");this.subOptions.push(this.selectOptions[t]),void 0!=this.selectOptions[t].displayPriority&&null!=this.selectOptions[t].displayPriority&&""!=this.selectOptions[t].displayPriority&&e.push(this.selectOptions[t].displayPriority)}console.log("该场景只为其它菜中一级OPtion作为该当前option中的二级",this.subOptions)}else{var s=JSON.parse(o()(this.selectOptions));if(s[0].options)for(var t in s=s[0].options,this.selectOptions)t>0&&(s=s.concat(JSON.parse(o()(this.selectOptions[t].options))));for(var t in this.value.options)void 0!=this.value.options[t]&&null!=this.value.options[t].displayPriority&&""!=this.value.options[t].displayPriority&&e.push(this.value.options[t].displayPriority);for(var t in s){for(var i in s[t].printerIds||(s[t].printerIds=[]),s[t].subOptions)s[t].subOptions[i].copyedOptionId=s[t].subOptions[i].id,s[t].subOptions[i].id="",delete s[t].subOptions[i].itemOptionId,s[t].subOptions[i].printerIds||(s[t].subOptions[i].printerIds=[]);if(s[t].copyedOptionId=s[t].id,delete s[t].id,void 0!=s[t].displayPriority&&null!=s[t].displayPriority&&""!=s[t].displayPriority)for(var i in e)if(e[i]==s[t].displayPriority){s[t].displayPriority="";break}for(var i in void 0===s[t].price&&(s[t].price=0),s[t].subOptions)void 0===s[t].subOptions[i].price&&this.$set(s[t].subOptions[i],"price",0),void 0===s[t].subOptions[i].displayPriority&&this.$set(s[t].subOptions[i],"displayPriority","");this.value.options.push(s[t]),null!=s[t].displayPriority&&""!=s[t].displayPriority&&e.push(s[t].displayPriority)}}this.selectOptions=[]},init:function(e){},optionSubmit:function(){for(var e in this.value.options[this.currentOpIndex].subOptions||(this.value.options[this.currentOpIndex].subOptions=[]),this.subOptions)this.value.options[this.currentOpIndex].subOptions.push(this.subOptions[e])},optionEvent:function(e){this.$emit("optionEvent",{item:this.value,isShow:this.show})},isChange:function(e){this.$emit("update:option",e),this.value.options.length<1&&e&&this.addOption()}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"option",on:{click:e.initValue}},[i("section",{staticClass:"flexRow"},[i("div",{staticClass:"f1"},[i("mdc-checkbox",{attrs:{label:e.title,checked:e.isShow&&e.value.options.length>0},on:{change:function(t){e.isChange(!(e.isShow&&e.value.options.length>0))}}})],1),e._v(" "),e.showMax?i("div",{staticClass:"f1 ta"},[i("mdc-textfield",{attrs:{maxlength:"3",label:e.$t("fields.itemOptionMax"),title:"Please Input Number"},on:{keyup:function(t){e.value.numOfItemOptionAllowed=t.target.value.replace(/[^\d]/g,"")}},model:{value:void 0===e.value.numOfItemOptionAllowed||""===e.value.numOfItemOptionAllowed?e.value.numOfItemOptionAllowed="0":e.value.numOfItemOptionAllowed,callback:function(t){e.$set(void 0===e.value.numOfItemOptionAllowed||""===e.value.numOfItemOptionAllowed?e.value.numOfItemOptionAllowed="0":e.value,"numOfItemOptionAllowed",t)},expression:"(value.numOfItemOptionAllowed===undefined || value.numOfItemOptionAllowed==='')?value.numOfItemOptionAllowed='0':value.numOfItemOptionAllowed"}})],1):e._e(),e._v(" "),e.isShow?i("div",{staticClass:"f1 tr"},[i("mdc-switch",{attrs:{label:e.$t("fields.fullScreen")},model:{value:e.value.optionFullScreen,callback:function(t){e.$set(e.value,"optionFullScreen",t)},expression:"value.optionFullScreen"}}),e._v(" "),i("bubble",{attrs:{cssText:"width:500px;left:-220px;"}},[i("div",[e._v(e._s(e.$t("tips.fullScreenMode.tip")))])])],1):e._e()]),e._v(" "),i("section",{staticClass:"mt10"},[e._l(e.value.options,function(t,s){return e.value.options.length>0&&e.isShow?[i("div",{staticClass:"row mdc-layout-grid"},[i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.name")},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"o.name"}})],1),e._v(" "),i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.kitchenName")},model:{value:t.shortName,callback:function(i){e.$set(t,"shortName",i)},expression:"o.shortName"}})],1),e._v(" "),i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.posName"),maxlength:"8"},model:{value:t.posName,callback:function(i){e.$set(t,"posName",i)},expression:"o.posName"}})],1),e._v(" "),i("div",{staticClass:"f0070"},[i("mdc-textfield",{attrs:{label:e.$t("fields.price")},on:{keypress:function(){e.$emit("checkPrice")},blur:function(i){e.validatePrice(i,t.price)?t.price=t.price:t.price="0"}},model:{value:void 0===t.price||""===t.price?t.price="0":t.price,callback:function(i){e.$set(void 0===t.price||""===t.price?t.price="0":t,"price",i)},expression:"(o.price===undefined || o.price==='')?o.price='0':o.price"}})],1),e._v(" "),i("div",{staticClass:"f0060 re"},[i("color-picker",{attrs:{color:t.color,isShow:e.isShowColor,index:s,currentIndex:e.currentIndex},on:{"update:color":function(i){t.color=i.color,e.isShowColor=i.isShow,e.currentIndex=i.currentIndex}}})],1),e._v(" "),i("div",{staticClass:"f0080"},[i("mdc-textfield",{attrs:{label:e.$t("fields.sequence"),pattern:"^[0-9]*$",title:"Please Input Number",maxlength:"3"},on:{blur:function(i){e.validateSeq(i,t)},keyup:function(e){t.displayPriority=e.target.value.replace(/[^\d]/g,"")}},model:{value:t.displayPriority,callback:function(i){e.$set(t,"displayPriority",i)},expression:"o.displayPriority"}})],1),e._v(" "),i("div",{staticClass:"f0080"},[i("mdc-textfield",{attrs:{label:e.$t("fields.max"),pattern:"^[0-9]*$",maxLength:"3",title:"Please Input Number"},on:{keyup:function(e){t.numOfItemOptionAllowed=e.target.value.replace(/[^\d]/g,"")}},model:{value:void 0===t.numOfItemOptionAllowed||""===t.numOfItemOptionAllowed?t.numOfItemOptionAllowed="0":t.numOfItemOptionAllowed,callback:function(i){e.$set(void 0===t.numOfItemOptionAllowed||""===t.numOfItemOptionAllowed?t.numOfItemOptionAllowed="0":t,"numOfItemOptionAllowed",i)},expression:"(o.numOfItemOptionAllowed===undefined || o.numOfItemOptionAllowed==='')?o.numOfItemOptionAllowed='0':o.numOfItemOptionAllowed"}})],1),e._v(" "),i("div",{staticClass:"re f1"},[i("div",{staticClass:"opPrinterItem",on:{click:function(t){e.addPrinters(s)}}},[i("div",{staticClass:"f1 ofh"},[i("span",[e._v(e._s(e.getPrintersName(t.printerIds)))])]),e._v("\n                  ▼\n               ")]),e._v(" "),i("mdc-textfield",{staticStyle:{width:"100%","font-size":"0"},attrs:{label:e.$t("fields.printer")},model:{value:t.printerIds.toString(),callback:function(i){e.$set(t.printerIds,"toString()",i)},expression:"o.printerIds.toString()"}})],1),e._v(" "),i("div",{staticClass:"imgBox"},[i("img",{staticClass:"optionImg",attrs:{src:t.thumbPath?e.GLOBAL.imgPath+t.thumbPath:e.GLOBAL.defaultImg},on:{click:function(t){e.imgClick(s)}}}),e._v(" "),e.oIndex==s?i("div",{staticClass:"delAlert"},[i("span",{on:{click:function(t){e.oIndex=-1,e.openSubOption(s)}}},[e._v(e._s(e.$t("btns.addForOption"))+"  ")]),e._v(" "),i("hr"),e._v(" "),i("span",{on:{click:function(t){e.oIndex=-1,e.value.options.splice(s,1),e.isChange(e.value.options.length>0)}}},[e._v(e._s(e.$t("btns.delete")))])]):e._e(),e._v(" "),i("mdc-icon",{staticStyle:{padding:"3px 5px"},attrs:{icon:"brightness_low"},nativeOn:{click:function(t){t.stopPropagation(),e.openOption(s)}}})],1)]),e._v(" "),e._l(t.subOptions,function(o,n){return i("div",{staticClass:"row"},[i("div",{class:{subTitle:!0,vhide:0!=n},staticStyle:{padding:"0 15px","line-height":"1"}},[e._v("\n               Sub Option\n            ")]),e._v(" "),i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.name"),required:""},model:{value:o.name,callback:function(t){e.$set(o,"name",t)},expression:"subOp.name"}})],1),e._v(" "),i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.kitchenName")},model:{value:o.shortName,callback:function(t){e.$set(o,"shortName",t)},expression:"subOp.shortName"}})],1),e._v(" "),i("div",{staticClass:"f1"},[i("mdc-textfield",{attrs:{label:e.$t("fields.posName"),maxlength:"8"},model:{value:o.posName,callback:function(t){e.$set(o,"posName",t)},expression:"subOp.posName"}})],1),e._v(" "),i("div",{staticClass:"f0060"},[i("mdc-textfield",{attrs:{label:e.$t("fields.price"),title:"Please Input Price"},on:{keypress:function(){e.$emit("checkPrice")},blur:function(t){e.validatePrice(t,o.price)?o.price=o.price+"":o.price="0"}},model:{value:o.price,callback:function(t){e.$set(o,"price",t)},expression:"subOp.price"}})],1),e._v(" "),i("div",{staticClass:"f0060 re"},[i("color-picker",{attrs:{color:o.color,isShow:e.isShowColor,index:s+"-"+n,currentIndex:e.currentIndex},on:{"update:color":function(t){o.color=t.color,e.isShowColor=t.isShow,e.currentIndex=t.currentIndex}}})],1),e._v(" "),i("div",{staticClass:"f0070"},[i("mdc-textfield",{attrs:{label:e.$t("fields.sequence"),maxlength:"3",pattern:"^[0-9]*$",title:"Please Input Number"},on:{blur:function(i){e.validateSubSeq(i,t,o)},keyup:function(e){o.displayPriority=e.target.value.replace(/[^\d]/g,"")}},model:{value:o.displayPriority,callback:function(t){e.$set(o,"displayPriority",t)},expression:"subOp.displayPriority"}})],1),e._v(" "),i("div",{staticClass:"f1",staticStyle:{position:"relative"}},[i("div",{staticClass:"opPrinterItem",on:{click:function(t){e.addPrinters(s,n)}}},[i("div",{staticStyle:{flex:"1",overflow:"hidden"}},[i("span",[e._v(e._s(e.getPrintersName(o.printerIds)))])]),e._v("\n                  ▼\n               ")]),e._v(" "),i("mdc-textfield",{staticStyle:{"font-size":"0"},attrs:{label:e.$t("fields.printer")},model:{value:o.printerIds.toString(),callback:function(t){e.$set(o.printerIds,"toString()",t)},expression:"subOp.printerIds.toString()"}})],1),e._v(" "),i("div",{staticClass:"imgBox"},[i("img",{staticClass:"optionImg",attrs:{src:o.thumbPath?e.GLOBAL.imgPath+o.thumbPath:e.GLOBAL.defaultImg},on:{click:function(t){e.imgClick(s,n)}}}),e._v(" "),i("i",{staticClass:"material-icons",staticStyle:{"font-size":"30px"},on:{click:function(i){e.deleteSub(t.subOptions,n)}}},[e._v("delete")])])])})]:e._e()})],2),e._v(" "),e.isShow?i("section",{staticStyle:{display:"flex",height:"40px",margin:"10px 0"}},[i("div",{staticClass:"mdc-button bnt",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.addBnt=!e.addBnt,e.oIndex=-1,e.currentOpIndex=-1}}},[e._v("+ "+e._s(e.$t("btns.createNew")))]),e._v(" "),e.addBnt?i("div",{staticClass:"copyAlert"},[i("div",{on:{click:function(t){e.copyOption("A")}}},[e._v("\n           "+e._s(e.$t("btns.selectExistOption"))+"\n         ")]),e._v(" "),i("div",{on:{click:function(t){e.copyOption("B")}}},[e._v(e._s(e.$t("btns.copyFromOtherItem")))]),e._v(" "),i("hr"),e._v(" "),i("div",{on:{click:function(t){e.addOption()}}},[e._v(e._s(e.$t("btns.createNewOption")))])]):e._e()]):e._e(),e._v(" "),i("form",{staticClass:"modalSubOpion",on:{submit:function(t){return t.preventDefault(),e.subOptionSubmit(t)}}},[i("mdc-dialog",{ref:"modalSubOpion",attrs:{title:"",cancel:e.$t("btns.cancel"),accept:e.$t("btns.apply")},on:{validate:e.onValidate}},[i("div",{staticClass:"customerHeader"},[e._v(e._s(e.$t("btns.addForOption"))+":")]),e._v(" "),i("div",{staticStyle:{height:"50vh","overflow-y":"auto","overflow-x":"hidden","padding-bottom":"30px"}},[e._l(e.subOptions,function(t,s){return i("div",{staticClass:"subRow"},[i("div",[i("mdc-textfield",{attrs:{label:e.$t("fields.optionName"),required:""},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"o.name"}})],1),e._v(" "),i("div",[i("mdc-textfield",{attrs:{label:e.$t("fields.kitchenName")},model:{value:t.shortName,callback:function(i){e.$set(t,"shortName",i)},expression:"o.shortName"}})],1),e._v(" "),i("div",[i("mdc-textfield",{attrs:{label:e.$t("fields.posName"),maxlength:"8"},model:{value:t.posName,callback:function(i){e.$set(t,"posName",i)},expression:"o.posName"}})],1),e._v(" "),i("div",[i("mdc-textfield",{attrs:{label:e.$t("fields.price"),title:"Please Input Price"},on:{keypress:function(){e.$emit("checkPrice")},blur:function(i){e.validatePrice(i,t.price)?t.price=t.price+"":t.price="0"}},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"o.price"}})],1),e._v(" "),i("div",{staticClass:"re"},[i("color-picker",{attrs:{color:t.color,isShow:e.isShowColor,index:"B"+s,currentIndex:e.currentIndex},on:{"update:color":function(i){t.color=i.color,e.isShowColor=i.isShow,e.currentIndex=i.currentIndex}}})],1),e._v(" "),i("div",[i("mdc-textfield",{attrs:{label:e.$t("fields.sequence"),pattern:"^[0-9]*$",title:"Please Input Number",maxlength:"3"},on:{keyup:function(e){t.displayPriority=e.target.value.replace(/[^\d]/g,"")}},model:{value:t.displayPriority,callback:function(i){e.$set(t,"displayPriority",i)},expression:"o.displayPriority"}})],1),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticClass:"optionImg",attrs:{src:t.thumbPath?e.GLOBAL.imgPath+t.thumbPath:e.GLOBAL.defaultImg},on:{click:function(t){e.imgSubClick(s)}}})]),e._v(" "),i("div",{staticStyle:{position:"relative",flex:"2"}},[i("div",{staticClass:"opPrinterItem",on:{click:function(t){e.addSubPrinters(s)}}},[i("div",{staticStyle:{flex:"0 0 100%",overflow:"hidden","text-align":"left"}},[i("span",[e._v(e._s(e.getPrintersName(t.printerIds)))])]),e._v("\n                     ▼\n                  ")]),e._v(" "),i("mdc-textfield",{staticStyle:{width:"100%","font-size":"0px"},attrs:{value:t.printerIds.toString(),label:e.$t("fields.printer")}})],1),e._v(" "),i("div",{staticStyle:{flex:"1 1 45px","min-width":"45px","text-align":"center"}},[i("i",{staticClass:"material-icons",staticStyle:{"font-size":"30px"},on:{click:function(t){e.subOptions.splice(s,1)}}},[e._v("delete")])])])}),e._v(" "),i("section",{staticStyle:{padding:"0 10px","margin-top":"10px",display:"flex"}},[i("div",{staticClass:"mdc-button bnt",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.addSubBnt=!e.addSubBnt}}},[e._v("+ "+e._s(e.$t("btns.createNew"))+"\n              ")]),e._v(" "),e.addSubBnt?i("div",{staticClass:"copyAlert",staticStyle:{height:"70px","font-size":"1.5rem",color:"#666",top:"-10px"}},[i("div",{on:{click:function(t){e.copyOption("A")}}},[e._v("\n                     "+e._s(e.$t("btns.selectExistOption"))+"\n                  ")]),e._v(" "),i("hr"),e._v(" "),i("div",{on:{click:function(t){e.addSubOption()}}},[e._v("\n                     "+e._s(e.$t("btns.createNewOption"))+"\n                  ")])]):e._e()])],2)])],1),e._v(" "),i("form",{staticClass:"modalCopyOpion",on:{submit:function(e){e.preventDefault()}}},[i("mdc-dialog",{ref:"modalCopyOpion",attrs:{title:"",accept:e.$t("btns.apply"),cancel:e.$t("btns.cancel")},on:{accept:e.cpOptionSubmit}},[i("div",{staticClass:"customerHeader",on:{click:function(t){e.level=0}}},[e._v(e._s(this.copyTitle))]),e._v(" "),i("div",{staticClass:"customerBody",staticStyle:{overflow:"visible",position:"relative"}},[i("div",{staticClass:"inputSearch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],ref:"search",domProps:{value:e.searchInput},on:{input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}),e._v(" "),i("i",{staticClass:"material-icons"},[e._v("search")])]),e._v(" "),"A"==e.copySign?i("div",{staticClass:"searchBox"},e._l(e.searchOptions,function(t,s){return i("div",[[i("mdc-checkbox",{staticStyle:{"margin-left":"60px"},attrs:{label:t.name},on:{change:function(i){e.optionClick(t,i)}},model:{value:-1!=e.getOptionWatchTempToArray.indexOf(t.id),callback:function(t){e.$set(e.getOptionWatchTempToArray,"indexOf(op['id'])!=-1",t)},expression:"getOptionWatchTempToArray.indexOf(op['id'])!=-1"}}),e._v(" "),e._l(t.subOptions,function(t,s){return i("div",{staticStyle:{"margin-left":"110px"}},[e._v(e._s(t.name))])})]],2)})):e._e(),e._v(" "),"B"==e.copySign?i("div",{staticClass:"searchBox"},e._l(e.searchOptions,function(t,s){return i("div",[[i("mdc-checkbox",{staticStyle:{"margin-left":"60px"},attrs:{label:t.name},on:{change:function(i){e.optionClick(t,i)}},model:{value:-1!=e.getOptionWatchTempToArray.indexOf(t.id),callback:function(t){e.$set(e.getOptionWatchTempToArray,"indexOf(item['id'])!=-1",t)},expression:"getOptionWatchTempToArray.indexOf(item['id'])!=-1"}}),e._v(" "),e._l(t.options,function(t,s){return i("div",{staticClass:"ml110"},[e._v("\n                        "+e._s(t.name)+"\n                        "),e._l(t.subOptions,function(t,s){return i("div",{staticClass:"ml30"},[e._v(e._s(t.name))])})],2)})]],2)})):e._e(),e._v(" "),i("mdc-layout-grid",{staticClass:"list-pagination",staticStyle:{position:"absolute",left:"0",bottom:"-80px"}},[i("mdc-layout-cell",{attrs:{desktop:"4",tablet:"2"}},[i("pagination-by-sever",{attrs:{page:e.optionPage},on:{changePage:e.pageSubOFilterChange}})],1)],1)],1)])],1),e._v(" "),i("form",{staticClass:"modalPrinter",on:{submit:function(e){e.preventDefault()}}},[i("mdc-dialog",{ref:"modalPrinter",attrs:{title:"",accept:e.$t("btns.apply"),cancel:e.$t("btns.cancel")},on:{accept:e.submitPrinter}},[i("div",{staticClass:"customerHeader",on:{click:function(t){e.level=0}}},[e._v("\n           "+e._s(e.$t("fields.specPrinterForOption"))+"\n         ")]),e._v(" "),i("div",{staticClass:"printerBody"},e._l(e.printers,function(t){return i("div",{},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectPrinters,expression:"selectPrinters"}],staticClass:"checked dsn",attrs:{type:"checkbox",name:"checkboxA",id:"a"+t.id},domProps:{value:t.id,checked:Array.isArray(e.selectPrinters)?e._i(e.selectPrinters,t.id)>-1:e.selectPrinters},on:{change:function(i){var s=e.selectPrinters,o=i.target,n=!!o.checked;if(Array.isArray(s)){var a=t.id,r=e._i(s,a);o.checked?r<0&&(e.selectPrinters=s.concat([a])):r>-1&&(e.selectPrinters=s.slice(0,r).concat(s.slice(r+1)))}else e.selectPrinters=n}}}),e._v(" "),i("label",{staticClass:"tc",attrs:{for:"a"+t.id}},[e._v(e._s(t.name))])])}))])],1),e._v(" "),i("form",{attrs:{id:"uploadOptionImage"},on:{submit:function(e){e.preventDefault()}}},[i("mdc-dialog",{ref:"uploadOptionImage",attrs:{title:"Upload Image",accept:"Apply",cancel:"Cancel"},on:{accept:e.onAddImagePath,cancel:e.cancel}},[i("image-upload-with-preview",{attrs:{imgSrc:e.thumbPath,isShowPic:e.isShowPic},on:{updatePic:e.updatePic}})],1)],1)])},staticRenderFns:[]};var u=i("vSla")(m,d,!1,function(e){i("poxV")},null,null);t.a=u.exports},poxV:function(e,t){},yKWV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("9ptM"),o={render:function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("mdc-layout-app",{staticClass:"item"},[s("form",{staticClass:"itemWp",staticStyle:{position:"absolute",width:"100%"},on:{submit:function(e){return e.preventDefault(),t.save(e)},click:t.closeAlert}},[s("mdc-toolbar",{staticClass:"blackheader",attrs:{slot:"toolbar"},slot:"toolbar"},[s("mdc-headline",[s("span",{on:{click:t.back}},[s("mdc-icon",{attrs:{icon:"keyboard_arrow_left"}})],1),t._v("\n        "+t._s(t.$t("fields.backToCategory"))+" : "+t._s(t.urlCatName)+"\n      ")])],1),t._v(" "),s("div",{staticClass:"wrapItem"},[s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",[s("mdc-layout-cell",{attrs:{desktop:"12"}},[t._v(t._s(t.$t("fields.name")))]),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.itemName"),required:""},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{maxlength:"3",label:t.$t("fields.number")},on:{keyup:function(e){t.item.itemNumber=e.target.value.replace(/[^\d]/g,"")}},model:{value:t.item.itemNumber,callback:function(e){t.$set(t.item,"itemNumber",e)},expression:"item.itemNumber"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.kitchenName")},model:{value:t.item.shortName,callback:function(e){t.$set(t.item,"shortName",e)},expression:"item.shortName"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.posName"),maxlength:"20"},model:{value:t.item.posName,callback:function(e){t.$set(t.item,"posName",e)},expression:"item.posName"}})],1)],1),t._v(" "),s("mdc-layout-grid",[s("mdc-layout-cell",{staticClass:"re",attrs:{desktop:"3"}},[s("color-picker",{attrs:{color:t.item.color,isShow:t.isShowColor},on:{"update:color":function(i){t.item.color=i.color,e.isShowColor=i.isShow}}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"6"}},[s("mdc-textfield",{staticStyle:{width:"90%"},attrs:{label:t.$t("fields.description")},model:{value:t.item.description,callback:function(e){t.$set(t.item,"description",e)},expression:"item.description"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("span",{class:{notWork:"New"==t.item.id,linkItem:!0},on:{click:t.linkItem}},[t._v(" "+t._s(t.$t("fields.linkWith",{itemCount:t.item.reportItem?t.item.reportItem.saleItemInfoDTOList.filter(function(e){return!e.deleted}).length-1:0}))+"\n            ")])])],1)],1),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",[s("mdc-layout-cell",{attrs:{desktop:"12"}},[t._v(t._s(t.$t("fields.price"))+"\n            "),s("mdc-textfield",{staticClass:"required",model:{value:t.refresh,callback:function(e){t.refresh=e},expression:"refresh"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{type:"text",label:t.$t("fields.itemPrice"),disabled:t.priceType[0]||t.priceType[2],title:"Please Input Price"},on:{keypress:t.checkPrice,blur:function(e){t.item.price=/(^[1-9](\d+)?(\.\d{1,2})?$)|(^0$)|(^\d\.\d{1,2}$)/.test(t.item.price)?t.item.price:""}},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",e)},expression:"item.price"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.detailPrice")+"?",disabled:t.priceType[2]||t.item.properties.indexOf("KTV")>-1},on:{change:function(e){t.changePriceType(0)}},model:{value:t.priceType[0],callback:function(e){t.$set(t.priceType,0,e)},expression:"priceType[0]"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.unitPrice")+"?",disabled:t.priceType[2]||t.item.properties.indexOf("KTV")>-1},on:{change:function(e){t.changePriceType(1)}},model:{value:t.priceType[1],callback:function(e){t.$set(t.priceType,1,e)},expression:"priceType[1]"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-switch",{attrs:{label:t.$t("fields.openPrice"),disabled:t.item.properties.indexOf("KTV")>-1},on:{change:function(e){t.changePriceType(2)}},model:{value:t.priceType[2],callback:function(e){t.$set(t.priceType,2,e)},expression:"priceType[2]"}})],1),t._v(" "),t.priceType[1]?s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.tare")},model:{value:t.item.baseWeight,callback:function(e){t.$set(t.item,"baseWeight",e)},expression:"item.baseWeight"}})],1):t._e()],1),t._v(" "),t._l(t.item.itemPrices,function(e,i){return t.priceType[0]?s("mdc-layout-grid",{staticStyle:{height:"60px"}},[s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.itemPrice"),required:"",pattern:"^[0-9]+(.[0-9]{0,2})?$",title:"Please Input Price"},on:{blur:function(t){e.price=/(^[1-9](\d+)?(\.\d{1,2})?$)|(^0$)|(^\d\.\d{1,2}$)/.test(e.price)?e.price:""}},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"itemPrice.price"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-select",{attrs:{label:t.$t("fields.type")+"*"},on:{change:function(i){t.item.itemPrices.forEach(function(t,i){t.type===e.type&&(e.sizeId="")})}},model:{value:e.type,callback:function(i){t.$set(e,"type",i)},expression:"itemPrice.type"}},t._l(t.orderTypes,function(e,i){return s("mdc-option",{attrs:{value:e.name}},[t._v("\n                "+t._s(e.displayName)+"\n              ")])})),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"itemPrice.type"}],staticClass:"required",domProps:{value:e.type},on:{input:function(i){i.target.composing||t.$set(e,"type",i.target.value)}}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"2"}},[s("mdc-select",{attrs:{label:t.$t("fields.size")+"*"},on:{change:function(s){t.item.itemPrices.forEach(function(s,o){o!==i&&s.type===e.type&&e.sizeId+""==t.sizes[0].id+""&&(s.sizeId="",t.item.itemPrices.splice(o,1,s))})}},model:{value:e.sizeId,callback:function(i){t.$set(e,"sizeId",i)},expression:"itemPrice.sizeId"}},t._l(t.sizes,function(o,n){return s("mdc-option",{key:n,attrs:{value:o.id+"",disabled:t.item.itemPrices&&(t.item.itemPrices.filter(function(s,o){return s.sizeId+""==t.sizes[0].id+""&&i!==o&&s.type===e.type}).length>=1||t.item.itemPrices.filter(function(t){return t.sizeId===o.id+""&&t.type===e.type}).length>=1)}},[t._v("\n                  "+t._s(o.name)+"\n              ")])})),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.sizeId,expression:"itemPrice.sizeId"}],staticClass:"required",domProps:{value:e.sizeId},on:{input:function(i){i.target.composing||t.$set(e,"sizeId",i.target.value)}}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"3"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.defaultSize"),checked:t.item.defaultItemSizeId+""==e.sizeId+""},on:{change:function(e){t.defaultPriceFun(i)}},model:{value:e.choosed,callback:function(i){t.$set(e,"choosed",i)},expression:"itemPrice.choosed"}})],1),t._v(" "),s("mdc-layout-cell",{attrs:{desktop:"1"}},[s("i",{staticClass:"material-icons",staticStyle:{"font-size":"30px"},on:{click:function(e){t.addDetailPrice(i,-1)}}},[t._v("delete")])])],1):t._e()}),t._v(" "),t.priceType[0]?s("mdc-layout-grid",[t.priceType[0]?s("mdc-layout-cell",{staticStyle:{margin:"10px 0px"},attrs:{desktop:"12"}},[s("button",{staticClass:"mdc-button bnt",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.addDetailPrice(t.index,1)}}},[t._v("+ "+t._s(t.$t("btns.addDetailPrice")))])]):t._e()],1):t._e()],2),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",[s("mdc-layout-cell",{attrs:{desktop:"12"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.sendToKitchenRequired")},on:{change:function(e){t.sendToKitchenRequiredChange(e)}},model:{value:t.item.sendToKitchenRequired,callback:function(e){t.$set(t.item,"sendToKitchenRequired",e)},expression:"item.sendToKitchenRequired"}})],1),t._v(" "),s("mdc-layout-cell",{directives:[{name:"show",rawName:"v-show",value:t.item.sendToKitchenRequired,expression:"item.sendToKitchenRequired"}],staticClass:"checkedBox",staticStyle:{height:"auto"},attrs:{desktop:"12"}},t._l(t.printers,function(e,i){return s("label",{staticClass:"fp20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.printerIds,expression:"item.printerIds"}],attrs:{type:"checkbox","data-printername":e.name},domProps:{value:e.id,checked:Array.isArray(t.item.printerIds)?t._i(t.item.printerIds,e.id)>-1:t.item.printerIds},on:{change:function(i){var s=t.item.printerIds,o=i.target,n=!!o.checked;if(Array.isArray(s)){var a=e.id,r=t._i(s,a);o.checked?r<0&&t.$set(t.item,"printerIds",s.concat([a])):r>-1&&t.$set(t.item,"printerIds",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.item,"printerIds",n)}}})])}))],1)],1),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",[s("mdc-layout-cell",{attrs:{desktop:"12"}},[s("menu-option",{attrs:{title:t.$t("fields.addItemOption"),printers:t.printers,showMax:!0,isShow:t.isOption},on:{checkPrice:t.checkPrice,"update:option":function(e){t.isOption=e}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)],1)],1),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",[s("mdc-layout-cell",{attrs:{desktop:"12"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.addPropertyAndLabel")},model:{value:t.isProperties,callback:function(e){t.isProperties=e},expression:"isProperties"}})],1),t._v(" "),s("mdc-layout-cell",{directives:[{name:"show",rawName:"v-show",value:t.isProperties,expression:"isProperties"}],staticClass:"checkedBox",staticStyle:{height:"auto"},attrs:{desktop:"12"}},t._l(t.GLOBAL.properties,function(e,i){return t.isProperties?s("label",{directives:[{name:"show",rawName:"v-show",value:"UNIT_PRICE_ITEM"!=e.name,expression:"propertie['name']!='UNIT_PRICE_ITEM'"}],staticClass:"fp25"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.properties,expression:"item.properties"}],attrs:{type:"checkbox","data-printername":e.displayName,disabled:(t.priceType[0]||t.priceType[1]||t.priceType[2])&&"KTV"===e.name},domProps:{value:e.name,checked:Array.isArray(t.item.properties)?t._i(t.item.properties,e.name)>-1:t.item.properties},on:{change:function(i){var s=t.item.properties,o=i.target,n=!!o.checked;if(Array.isArray(s)){var a=e.name,r=t._i(s,a);o.checked?r<0&&t.$set(t.item,"properties",s.concat([a])):r>-1&&t.$set(t.item,"properties",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.item,"properties",n)}}})]):t._e()}))],1)],1),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("mdc-layout-grid",{staticClass:"combos"},[s("mdc-layout-cell",{attrs:{desktop:"5"}},[s("mdc-checkbox",{attrs:{label:t.$t("fields.isComboItem")},on:{change:t.addCombo},model:{value:t.isItemType,callback:function(e){t.isItemType=e},expression:"isItemType"}}),t._v(" "),s("mdc-checkbox",{attrs:{label:t.$t("fields.hideItem")},model:{value:t.item.hiddenItem,callback:function(e){t.$set(t.item,"hiddenItem",e)},expression:"item.hiddenItem"}})],1),t._v(" "),t.isItemType?s("mdc-layout-cell",{attrs:{desktop:"7"}},[s("div",{staticStyle:{float:"right"}},[s("mdc-switch",{attrs:{label:t.$t("fields.quickComboMode")},model:{value:t.item.isDisplayMode,callback:function(e){t.$set(t.item,"isDisplayMode",e)},expression:"item.isDisplayMode"}}),t._v(" "),s("bubble",{attrs:{cssText:"left:-200px;"}},[s("div",[t._v(t._s(t.$t("tips.quickCombomode.tip")))]),t._v(" "),s("p",[t._v(t._s(t.$t("tips.quickCombomode.ps")))])])],1),t._v(" "),s("div",{staticStyle:{float:"right","margin-right":"20px"}},[s("mdc-switch",{attrs:{label:t.$t("fields.fixedSelectionMode")},on:{change:t.fixedMode},model:{value:t.item.isComboType,callback:function(e){t.$set(t.item,"isComboType",e)},expression:"item.isComboType"}}),t._v(" "),s("bubble",[s("div",[t._v(t._s(t.$t("tips.fixedSelectionMode.tip")))]),t._v(" "),s("p",[t._v(t._s(t.$t("tips.fixedSelectionMode.ps")))])])],1)]):t._e(),t._v(" "),t.isItemType?s("mdc-layout-cell",{staticStyle:{height:"auto","margin-top":"8px"},attrs:{desktop:"12"}},[t._l(t.item.comboSections,function(e,i){return[s("div",{staticClass:"option"},[s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.name"),required:""},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"cb.name"}})],1),t._v(" "),s("div",{staticStyle:{flex:"0 0 80px"}},[s("mdc-textfield",{attrs:{label:t.$t("fields.sequence")},on:{blur:function(i){t.validateSeq(i,e)},keyup:function(t){e.sectionSequence=t.target.value.replace(/[^\d]/g,"")}},model:{value:e.sectionSequence,callback:function(i){t.$set(e,"sectionSequence",i)},expression:"cb.sectionSequence"}})],1),t._v(" "),s("div",{staticStyle:{position:"relative"}},[s("mdc-textfield",{staticClass:"isRequired",staticStyle:{width:"136px"},attrs:{required:""},model:{value:e.itemSelectionRule,callback:function(i){t.$set(e,"itemSelectionRule",i)},expression:"cb.itemSelectionRule"}}),t._v(" "),s("mdc-select",{attrs:{required:"",disabled:t.item.isComboType,label:t.$t("fields.itemRule")+"*"},on:{change:function(i){t.changeRule(e)}},model:{value:e.itemSelectionRule,callback:function(i){t.$set(e,"itemSelectionRule",i)},expression:"cb.itemSelectionRule"}},t._l(t.rules,function(e,i){return s("mdc-option",{attrs:{value:e.key}},[t._v("\n                      "+t._s(e.value)+"\n                    ")])}))],1),t._v(" "),e.itemSelectionRule&&"EQUALS_TO"!==e.itemSelectionRule?t._e():s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.fixNumber"),required:"",pattern:"^[0-9]*$",title:"Please Input Number"},on:{input:function(e){t.item.comboSections[i].comboSectionSaleItems.map(function(e){return e.preSelected=!1})}},model:{value:e.minNumOfSelectionAllowed,callback:function(i){t.$set(e,"minNumOfSelectionAllowed",i)},expression:"cb.minNumOfSelectionAllowed"}})],1),t._v(" "),"MIN_NUM_LIMIT"===e.itemSelectionRule?s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.fixNumber"),required:"",pattern:"^[0-9]*$",title:"Please Input Number"},on:{input:function(e){t.item.comboSections[i].comboSectionSaleItems.map(function(e){return e.preSelected=!1})}},model:{value:e.minNumOfSelectionAllowed,callback:function(i){t.$set(e,"minNumOfSelectionAllowed",i)},expression:"cb.minNumOfSelectionAllowed"}})],1):t._e(),t._v(" "),"MAX_NUM_LIMIT"===e.itemSelectionRule?s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.fixNumber"),required:"",pattern:"^[0-9]*$",title:"Please Input Number"},on:{input:function(e){t.item.comboSections[i].comboSectionSaleItems.map(function(e){return e.preSelected=!1})}},model:{value:e.maxNumOfSelectionAllowed,callback:function(i){t.$set(e,"maxNumOfSelectionAllowed",i)},expression:"cb.maxNumOfSelectionAllowed"}})],1):t._e(),t._v(" "),"RANGE"==e.itemSelectionRule?s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.minNumber"),required:"",pattern:"^[0-9]*$",title:"Please Input Number"},on:{input:function(e){t.item.comboSections[i].comboSectionSaleItems.map(function(e){return e.preSelected=!1})}},model:{value:e.minNumOfSelectionAllowed,callback:function(i){t.$set(e,"minNumOfSelectionAllowed",i)},expression:"cb.minNumOfSelectionAllowed"}})],1):t._e(),t._v(" "),"RANGE"==e.itemSelectionRule?s("div",[s("mdc-textfield",{attrs:{label:t.$t("fields.maxNumber"),required:"",pattern:"^[0-9]*$",title:"Please Input Number"},on:{input:function(e){t.item.comboSections[i].comboSectionSaleItems.map(function(e){return e.preSelected=!1})}},model:{value:e.maxNumOfSelectionAllowed,callback:function(i){t.$set(e,"maxNumOfSelectionAllowed",i)},expression:"cb.maxNumOfSelectionAllowed"}})],1):t._e(),t._v(" "),s("div",{staticStyle:{position:"relative"}},[s("mdc-textfield",{staticClass:"isRequired",staticStyle:{width:"136px"},attrs:{required:""},model:{value:e.itemSelectionRule,callback:function(i){t.$set(e,"itemSelectionRule",i)},expression:"cb.itemSelectionRule"}}),t._v(" "),s("mdc-select",{staticStyle:{width:"130px"},attrs:{label:t.$t("fields.priceRule")+" *"},model:{value:e.priceRule,callback:function(i){t.$set(e,"priceRule",i)},expression:"cb.priceRule"}},t._l(t.secondRules[e.itemSelectionRule],function(e,i){return s("mdc-option",{key:i,attrs:{value:e.key}},[t._v("\n                                  "+t._s(e.value)+"\n                      ")])}))],1),t._v(" "),s("div",{staticClass:"showItemBnt",staticStyle:{flex:"0 0 30px"}},[s("div",{class:{show:e.isShow},on:{click:function(e){t.showComboItem(i)}}},[t._v("^")])]),t._v(" "),s("div",{staticStyle:{position:"relative",flex:"0 0 100px"}},[s("div",{staticStyle:{border:"solid #aaa 1px","border-radius":"4px",padding:"0 5px","line-height":"30px"},on:{click:function(e){t.addComboItem(i)}}},[t._v("\n                               + "+t._s(t.$t("btns.addItem"))+"\n                            ")])]),t._v(" "),s("div",{staticStyle:{position:"relative",margin:"0 10px",flex:"0 0 30px"},on:{click:function(e){e.stopPropagation(),t.openCombo(i)}}},[t.cbIndex==i?s("div",{staticClass:"button"},[s("div",{on:{click:function(e){t.item.comboSections[i].isModel=!t.item.comboSections[i].isModel,t.item.comboSections[i].isShow=!0}}},[t._v(t._s(t.$t("btns.preItem")))]),t._v(" "),s("hr"),t._v(" "),s("div",{on:{click:function(e){t.delComboOption(i)}}},[t._v(t._s(t.$t("btns.delete")))])]):t._e(),t._v(" "),s("mdc-icon",{staticStyle:{padding:"3px 5px",border:"solid #ccc 1px"},attrs:{icon:"brightness_low"}})],1)]),t._v(" "),t.item.comboSections[i].comboSectionSaleItems.length>0&&t.item.comboSections[i].isShow&&!t.item.comboSections[i].isModel?s("draggable",{staticClass:"comboBody",on:{start:function(e){t.drag=!1},end:function(e){t.drag=!0}},model:{value:t.item.comboSections[i].comboSectionSaleItems,callback:function(e){t.$set(t.item.comboSections[i],"comboSectionSaleItems",e)},expression:"item.comboSections[index]['comboSectionSaleItems']"}},t._l(t.item.comboSections[i].comboSectionSaleItems,function(e,o){return s("div",{key:o},[s("div",{staticClass:"detialItem"},[s("mdc-icon",{staticStyle:{"vertical-align":"middle","margin-right":"3px"},attrs:{icon:"menu"}}),t._v(" "),s("span",{staticClass:"detialText"},[t._v(t._s(e.saleItemName))])],1),t._v(" "),s("span",{staticStyle:{"line-height":"40px",padding:"0 6px 0 10px","font-size":"28px"},on:{click:function(e){t.item.comboSections[i].comboSectionSaleItems.splice(o,1)}}},[t._v("×")])])})):t._e(),t._v(" "),t.item.comboSections[i].comboSectionSaleItems.length>0&&t.item.comboSections[i].isShow&&t.item.comboSections[i].isModel?s("div",{staticClass:"comboBody"},t._l(t.item.comboSections[i].comboSectionSaleItems,function(e,o){return s("div",{key:o},[s("div",{staticClass:"detialItem",staticStyle:{position:"relative","line-height":"35px","vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.preSelected,expression:"cbItem['preSelected']"}],attrs:{type:"checkbox",disabled:!e.preSelected&&t.item.comboSections[i].comboSectionSaleItems.filter(function(e){return e.preSelected}).length>=("MIN_NUM_LIMIT"===t.item.comboSections[i].itemSelectionRule||"EQUALS_TO"===t.item.comboSections[i].itemSelectionRule?t.item.comboSections[i].minNumOfSelectionAllowed:t.item.comboSections[i].maxNumOfSelectionAllowed),id:e.saleItemId},domProps:{checked:Array.isArray(e.preSelected)?t._i(e.preSelected,null)>-1:e.preSelected},on:{change:function(i){var s=e.preSelected,o=i.target,n=!!o.checked;if(Array.isArray(s)){var a=t._i(s,null);o.checked?a<0&&t.$set(e,"preSelected",s.concat([null])):a>-1&&t.$set(e,"preSelected",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(e,"preSelected",n)}}}),t._v(" "),s("label",[t._v(t._s(e.saleItemName))])])])})):t._e()]}),t._v(" "),s("div",{staticClass:"circleBnt",on:{click:function(e){e.stopPropagation(),t.addBnt=!1,t.cbIndex,t.addCombo("+")}}},[t._v("+")])],2):t._e()],1)],1),t._v(" "),s("section",{staticClass:"sectionPanel baseInfo"},[s("img",{staticClass:"itemImg",attrs:{src:t.item.thumbPath?t.GLOBAL.imgPath+t.item.thumbPath:t.GLOBAL.defaultImg},on:{click:t.imgClick}})])]),t._v(" "),s("footer",[s("div",{staticClass:"mdl-mini-footer__right-section"},[s("mdc-button",{attrs:{type:"button"},on:{click:t.back}},[t._v(t._s(t.$t("btns.cancel")))]),t._v(" "),s("mdc-button",{staticClass:"btnColor",class:{"button-saving":t.isSaving}},[t._v(t._s(t.$t("btns.save")))])],1)])],1),t._v(" "),s("form",{staticClass:"modalItem",on:{submit:function(e){e.preventDefault()}}},[s("mdc-dialog",{ref:"modalItem",attrs:{title:"",accept:t.$t("btns.apply"),cancel:t.$t("btns.cancel")},on:{accept:t.submitItem}},[s("div",{staticClass:"customerHeader",on:{click:function(e){t.level=0}}},[1==t.level?s("div",[s("mdc-icon",{staticStyle:{"vertical-align":"middle",margin:"0 15px"},attrs:{icon:"keyboard_arrow_left"}}),t._v("\n                "+t._s(t.comboGroup.menuGroups[t.groupIndex].name||"")+"\n             ")],1):t._e(),t._v(" "),s("div",{staticClass:"chooseHeader"},[t._v("\n                 "+t._s(t.$t("fields.chooseItemTo"))+":\n                "),s("div",[t._v(t._s(t.item.name||""))])])]),t._v(" "),s("div",{staticClass:"customerBody"},[0==t.level?s("div",{staticClass:"left"},t._l(t.comboGroup.menuGroups,function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.comboGroup.menuGroups&&0!==t.comboGroup.menuGroups.length,expression:"comboGroup['menuGroups'] && comboGroup['menuGroups'].length !== 0"}],class:{modalGroup:!0,selectCat:t.groupIndex==i},on:{click:function(s){t.groupIndex=i,t.groupName=e.name}}},[s("span"),t._v(t._s(e.name)+"\n                ")])})):s("div",{staticClass:"left"},t._l(t.comboGroup.menuGroups[t.groupIndex].menuCategories,function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.comboGroup.menuGroups[t.groupIndex].menuCategories&&0!==t.comboGroup.menuGroups[t.groupIndex].menuCategories.length,expression:"comboGroup['menuGroups'][groupIndex]['menuCategories'] && comboGroup['menuGroups'][groupIndex]['menuCategories'].length !== 0"}],class:{modalGroup:!0,selectCat:t.categoryIndex==i},on:{click:function(s){t.categoryIndex=i,t.getItems(e)}}},[s("span"),t._v(t._s(e.name)+"\n                ")])})),t._v(" "),0==t.level?s("div",{staticClass:"right"},t._l(t.comboGroup.menuGroups[t.groupIndex].menuCategories,function(e,i){return s("div",{on:{click:function(s){t.level=1,t.categoryIndex=i,t.getItems(e)}}},[s("span",{staticClass:"add"},[t._v("+")]),t._v(" \n                   "+t._s(e.name)+"\n                ")])})):s("div",{staticClass:"right"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.items&&t.items.length>0,expression:"(items && items.length >0)"}],staticStyle:{height:"45px","line-height":"45px","text-align":"left"},on:{click:function(e){t.selectAll(e,t.items,t.item.id)}}},[s("mdc-checkbox",{staticStyle:{"vertical-align":"middle","font-size":"3rem"},attrs:{label:t.$t("fields.selectAll"),checked:!!(t.items&&t.items.length>0)&&t.items.every(function(e){return e.id===t.item.id||t.getItemsIdArray.indexOf(e.id+"")>=0})}})],1),t._v(" "),t._l(t.items,function(e,i){return e.id!=t.item.id?s("div",{staticClass:"selectItem",attrs:{id:e.id,"data-name":e.name},on:{click:function(e){t.level=1,t.clickItem(e)}}},[s("mdc-checkbox",{staticStyle:{"vertical-align":"middle","font-size":"1.8rem","margin-left":"30px","pointer-events":"none"},attrs:{label:e.name,checked:t.getItemsIdArray.indexOf(e.id+"")>=0}})],1):t._e()})],2)])])],1),t._v(" "),s("section",{staticClass:"modalLink"},[t.isLink?s("mdc-dialog",{ref:"modalLink",attrs:{title:"",accept:t.$t("btns.apply"),cancel:t.$t("btns.cancel")}},[s("div",{staticClass:"customerHeader tc",staticStyle:{height:"120px"}},[s("div",[t._v(t._s(t.$t("fields.shareReportName"))+" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.reportItemName,expression:"reportItemName"}],staticClass:"reportName",domProps:{value:t.reportItemName},on:{input:function(e){e.target.composing||(t.reportItemName=e.target.value)}}})]),t._v(" "+t._s(t.$t("fields.inReportCategory"))+"\n                "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectReportId,expression:"selectReportId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.selectReportId=e.target.multiple?i:i[0]}}},t._l(t.getReportItems,function(e,i){return s("option",{staticStyle:{border:"0",background:"#fff",color:"#000","text-align":"center","padding-left":"18px"},domProps:{value:e.groupId+"_"+e.categoryId}},[t._v("\n                       "+t._s(e.menuName)+">"+t._s(e.groupName)+">"+t._s(e.categoryName)+"\n                      ")])}))]),t._v(" "),s("div",{staticClass:"customerBody"},[t._l(t.reportItems,function(e,i){return t.reportItems.filter(function(e){return!e.deleted}).length>1?[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.deleted,expression:"!item.deleted"}],staticStyle:{flex:"0 0 100%",border:"solid #ccc 1px","line-height":"40px",height:"40px","padding-left":"15px"}},[s("mdc-checkbox",{attrs:{value:e.saleItemId,label:e.menuName+">"+e.groupName+">"+e.categoryName+">"+e.saleItemName},on:{change:function(i){t.changeLink(i,e)}},model:{value:e.tempSign,callback:function(i){t.$set(e,"tempSign",i)},expression:"item['tempSign']"}})],1)]:t._e()})],2),t._v(" "),s("footer",{staticStyle:{display:"flex","font-size":"2rem"}},[s("div",{staticClass:"f1 tl"},[s("mdc-button",{staticClass:"btnColor",on:{click:t.linkOtherItem}},[t._v(t._s(t.$t("btns.linkOtherSameItems")))])],1),t._v(" "),s("div",{staticClass:"f1"},[s("mdc-button",{on:{click:t.cancelLink}},[t._v(t._s(t.$t("btns.cancel")))]),t._v(" "),s("mdc-button",{staticClass:"btnColor",on:{click:t.submitLink}},[t._v(t._s(t.$t("btns.submit")))])],1)])]):s("mdc-dialog",{ref:"modalLink",attrs:{title:"",accept:t.$t("btns.apply"),cancel:t.$t("btns.cancel")}},[s("div",{staticClass:"customerHeader tc"},[s("div",{staticClass:"inputSearch"},[t._v("\n                       "+t._s(t.$t("fields.linkItemWith"))+" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],ref:"search",domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),t._v(" "),s("i",{staticClass:"material-icons"},[t._v("search")])])]),t._v(" "),s("div",{staticClass:"customerBody"},[t._l(t.linkItems,function(e,i){return t._l(e.reportItem.saleItemInfoDTOList,function(i,o){return s("div",{key:o,staticStyle:{flex:"0 0 100%",border:"solid #ccc 1px","line-height":"40px",height:"40px","padding-left":"15px"}},[t._v("\n                          "+t._s(e.id)+"\n                        "),0==o?s("mdc-checkbox",{attrs:{value:i.saleItemId,label:(i.menuActive?"":"(inactive) ")+i.menuName+">"+i.groupName+">"+i.categoryName+">"+i.saleItemName},on:{change:function(i){t.changeLink(i,e)}},model:{value:-1!=t.getLinksTempToArray.indexOf(i.saleItemId),callback:function(e){t.$set(t.getLinksTempToArray,"indexOf(item['saleItemId'])!=-1",e)},expression:"getLinksTempToArray.indexOf(item['saleItemId'])!=-1"}}):s("span",{staticStyle:{"font-size":"1.6rem","padding-left":"40px"}},[t._v(t._s((i.menuActive?"":"(inactive) ")+i.menuName+">"+i.groupName+">"+i.categoryName+">"+i.saleItemName))])],1)})})],2),t._v(" "),s("footer",{staticStyle:{display:"flex","font-size":"2rem"}},[s("mdc-layout-grid",{staticClass:"list-pagination"},[s("mdc-layout-cell",{attrs:{desktop:"4",tablet:"2"}},[s("pagination-by-sever",{attrs:{page:t.linkPage},on:{changePage:t.pageFilterChange}})],1)],1),t._v(" "),s("div",{staticClass:"f1"},[s("mdc-button",{on:{click:t.cancelLink}},[t._v(t._s(t.$t("btns.cancel")))]),t._v(" "),s("mdc-button",{staticClass:"btnColor",on:{click:t.returnLink}},[t._v(t._s(t.$t("btns.link")))])],1)],1)])],1),t._v(" "),s("section",{attrs:{id:"uploadImage"}},[s("mdc-dialog",{ref:"uploadImage",attrs:{title:t.$t("btns.uploadImage"),accept:t.$t("btns.apply"),cancel:t.$t("btns.cancel")},on:{accept:t.onAddImagePath,cancel:t.cancel}},[s("image-upload-with-preview",{attrs:{imgSrc:t.thumbPath,isShowPic:t.isShowPic},on:{updatePic:t.updatePic}})],1)],1),t._v(" "),s("section",{staticClass:"success-dialog successCategoty"},[s("commonDialog",{ref:"successCategotyDialog",attrs:{title:t.$t("fields.successSaved"),accept:t.$t("fields.creatAnother"),receive:t.$t("fields.backToList"),cancel:t.$t("btns.ok")},on:{accept:function(){t.createNew()},receive:function(){t.back()}}})],1),t._v(" "),s("section",[s("mdc-dialog",{ref:"responseDialog",staticClass:"responseDialog",attrs:{title:t.responseMsg,cancel:"",accept:t.$t("btns.ok")}})],1)])},staticRenderFns:[]};var n=function(e){i("8Uv3")},a=i("vSla")(s.a,o,!1,n,null,null);t.default=a.exports}});